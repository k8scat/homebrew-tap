# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Acli < Formula
  desc "Manage content in multi platforms."
  homepage "https://github.com/k8scat/articli"
  version "0.6.5"

  depends_on "git"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/k8scat/articli/releases/download/v0.6.5/articli_0.6.5_darwin_arm64.tar.gz"
      sha256 "d83ce57669c7192fd81477d30b6ef0b9693ac9b486d7f237e52a99864d81ed92"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/k8scat/articli/releases/download/v0.6.5/articli_0.6.5_darwin_amd64.tar.gz"
      sha256 "7fb5fbc42349468abd7a723880bca4d383f0b646dbc05d1c6963419dc8c89eff"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/k8scat/articli/releases/download/v0.6.5/articli_0.6.5_linux_arm64.tar.gz"
      sha256 "c51fcd8ef6206dac5c24ca05bcc57a99efca59ebd02303c69f58d209a95c48fc"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/k8scat/articli/releases/download/v0.6.5/articli_0.6.5_linux_amd64.tar.gz"
      sha256 "237657857dede9eb32670aa921d046d5f8d94306619261119b778361ca7b5c1f"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
  end

  test do
    system "#{bin}/acli version"
  end
end
