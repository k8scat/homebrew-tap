# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Acli < Formula
  desc "Manage content in multi platforms."
  homepage "https://github.com/k8scat/articli"
  version "0.4.2"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/k8scat/articli/releases/download/v0.4.2/acli-darwin-amd64.tar.gz"
      sha256 "7b6203807cfc67b87f8cb8174306011f0964c9bcb2d792f178681aa31a060094"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/k8scat/articli/releases/download/v0.4.2/acli-darwin-arm64.tar.gz"
      sha256 "c7a380cbef2faed3f41b2bb0daf995f0c4ed4a082a92469c462108336ee63cd9"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/k8scat/articli/releases/download/v0.4.2/acli-linux-amd64.tar.gz"
      sha256 "bfd354b07552f27867c14b78f5ba84613178382c6110b03196228dcaebb08d21"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/k8scat/articli/releases/download/v0.4.2/acli-linux-arm64.tar.gz"
      sha256 "f55398e556b3df9f688a4f5cb7fd96da882b267b587e5cf65eafcabfb04646f1"

      def install
        bin.install "acli"
        # Install bash completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "bash")
        (bash_completion/"acli").write output
        # Install zsh completion
        output = Utils.safe_popen_read("#{bin}/acli", "completion", "zsh")
        (zsh_completion/"_acli").write output
      end
    end
  end

  depends_on "git"

  test do
    system "#{bin}/acli version"
  end
end
